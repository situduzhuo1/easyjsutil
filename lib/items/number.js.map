{"version":3,"sources":["../../src/items/number.js"],"names":["FormatMoney","number","places","symbol","thousand","decimal","isNaN","Math","abs","undefined","negative","i","parseInt","toFixed","j","length","substr","replace","slice","convertCurrency","money","cnNums","Array","cnIntRadice","cnIntUnits","cnDecUnits","cnInteger","cnIntLast","maxNum","integerNum","decimalNum","chineseStr","parts","parseFloat","toString","indexOf","split","zeroCount","IntLen","n","p","q","m","decLen","Number"],"mappings":"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","file":"number.js","sourcesContent":["/**\r\n * 数字格式方法集\r\n */\r\n// To set it up as a global function:\r\nfunction FormatMoney(number, places, symbol, thousand, decimal) {\r\n  number = number || 0;\r\n  places = !isNaN(places = Math.abs(places)) ? places : 2;\r\n  symbol = symbol !== undefined ? symbol : \"$\";\r\n  thousand = thousand || \",\";\r\n  decimal = decimal || \".\";\r\n  var negative = number < 0 ? \"-\" : \"\",\r\n    i = parseInt(number = Math.abs(+number || 0).toFixed(places), 10) + \"\",\r\n    j = (j = i.length) > 3 ? j % 3 : 0;\r\n  return symbol + negative + (j ? i.substr(0, j) + thousand : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousand) + (places ? decimal + Math.abs(number - i).toFixed(places).slice(2) : \"\");\r\n}\r\n\r\n//代码如下所示：转大写金额\r\nfunction convertCurrency(money) {\r\n  //汉字的数字\r\n  var cnNums = new Array('零', '壹', '贰', '叁', '肆', '伍', '陆', '柒', '捌', '玖');\r\n  //基本单位\r\n  var cnIntRadice = new Array('', '拾', '佰', '仟');\r\n  //对应整数部分扩展单位\r\n  var cnIntUnits = new Array('', '万', '亿', '兆');\r\n  //对应小数部分单位\r\n  var cnDecUnits = new Array('角', '分', '毫', '厘');\r\n  //整数金额时后面跟的字符\r\n  var cnInteger = '整';\r\n  //整型完以后的单位\r\n  var cnIntLast = '元';\r\n  //最大处理的数字\r\n  var maxNum = 999999999999999.9999;\r\n  //金额整数部分\r\n  var integerNum;\r\n  //金额小数部分\r\n  var decimalNum;\r\n  //输出的中文金额字符串\r\n  var chineseStr = '';\r\n  //分离金额后用的数组，预定义\r\n  var parts;\r\n  if (money == '') { return ''; }\r\n  money = parseFloat(money);\r\n  if (money >= maxNum) {\r\n    //超出最大处理数字\r\n    return '';\r\n  }\r\n  if (money == 0) {\r\n    chineseStr = cnNums[0] + cnIntLast + cnInteger;\r\n    return chineseStr;\r\n  }\r\n  //转换为字符串\r\n  money = money.toString();\r\n  if (money.indexOf('.') == -1) {\r\n    integerNum = money;\r\n    decimalNum = '';\r\n  } else {\r\n    parts = money.split('.');\r\n    integerNum = parts[0];\r\n    decimalNum = parts[1].substr(0, 4);\r\n  }\r\n  //获取整型部分转换\r\n  if (parseInt(integerNum, 10) > 0) {\r\n    var zeroCount = 0;\r\n    var IntLen = integerNum.length;\r\n    for (var i = 0; i < IntLen; i++) {\r\n      var n = integerNum.substr(i, 1);\r\n      var p = IntLen - i - 1;\r\n      var q = p / 4;\r\n      var m = p % 4;\r\n      if (n == '0') {\r\n        zeroCount++;\r\n      } else {\r\n        if (zeroCount > 0) {\r\n          chineseStr += cnNums[0];\r\n        }\r\n        //归零\r\n        zeroCount = 0;\r\n        chineseStr += cnNums[parseInt(n)] + cnIntRadice[m];\r\n      }\r\n      if (m == 0 && zeroCount < 4) {\r\n        chineseStr += cnIntUnits[q];\r\n      }\r\n    }\r\n    chineseStr += cnIntLast;\r\n  }\r\n  //小数部分\r\n  if (decimalNum != '') {\r\n    var decLen = decimalNum.length;\r\n    for (var i = 0; i < decLen; i++) {\r\n      var n = decimalNum.substr(i, 1);\r\n      if (n != '0') {\r\n        chineseStr += cnNums[Number(n)] + cnDecUnits[i];\r\n      }\r\n    }\r\n  }\r\n  if (chineseStr == '') {\r\n    chineseStr += cnNums[0] + cnIntLast + cnInteger;\r\n  } else if (decimalNum == '') {\r\n    chineseStr += cnInteger;\r\n  }\r\n  return chineseStr;\r\n}\r\n\r\n\r\nexport default {FormatMoney,convertCurrency};"]}